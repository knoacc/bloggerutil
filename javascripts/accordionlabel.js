!function(a,b){var c=b.getElementById(toc_config.containerId),d=b.getElementsByTagName("head")[0],e=[];a[toc_config.jsonCallback]=function(a){for(var f,g,b=a.feed.entry,d=a.feed.category,i="",j=0,k=d.length;j<k;++j)e.push(d[j].term);for(var l=0,m=b.length;l<m;++l)(toc_config.showNew||toc_config.showNew>0)&&l<toc_config.showNew+1&&(b[l].title.$t+=" %new%");b=toc_config.sortAlphabetically.theList?b.sort(function(a,b){return a.title.$t.localeCompare(b.title.$t)}):b,toc_config.sortAlphabetically.thePanel&&e.sort();for(var n=0,o=e.length;n<o;++n){i+='<h3 class="toc-header">'+e[n]+"</h3>",i+='<div class="toc-content"><ol>';for(var p=0,q=b.length;p<q;++p){f=b[p].title.$t;for(var r=0,s=b[p].link.length;r<s;++r)if("alternate"==b[p].link[r].rel){g=b[p].link[r].href;break}for(var t=0,u=b[p].category.length;t<u;++t)e[n]==b[p].category[t].term&&(i+='<li><a href="'+g+'">'+f.replace(/ \%new\%$/,"")+"</a>"+(f.match(/\%new\%/)?" "+toc_config.newText:"")+"</li>")}i+="</ol></div>"}c.innerHTML=i,"undefined"!=typeof jQuery&&($("#"+toc_config.containerId+" .toc-content").hide(),$("#"+toc_config.containerId+" .toc-header").click(function(){$(this).hasClass("active")||(toc_config.clickCallback(this),$("#"+toc_config.containerId+" .toc-header").removeClass("active").next().slideUp(toc_config.slideSpeed.up,toc_config.slideEasing.up,toc_config.slideCallback.up),$(this).addClass("active").next().slideDown(toc_config.slideSpeed.down,toc_config.slideEasing.down,toc_config.slideCallback.down))}).eq(toc_config.activePanel-1).addClass("active").next().slideDown(toc_config.slideSpeed.down,toc_config.slideEasing.down,toc_config.slideCallback.down))};var f=b.createElement("script");f.src=toc_config.url.replace(/\/$/,"")+"/feeds/posts/summary?alt=json-in-script&max-results="+toc_config.maxResults+"&callback="+toc_config.jsonCallback,"onload"==toc_config.delayLoading?a.onload=function(){d.appendChild(f)}:a.setTimeout(function(){d.appendChild(f)},toc_config.delayLoading)}(window,document);
